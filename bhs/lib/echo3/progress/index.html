<!doctype html><html lang=en><head><meta charset=utf-8><title>itnomater :: Function progress</title><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1"><meta name=date content="2023-03-22 14:34"><meta name=generator content="https://gohugo.io"><meta name=robots content="index,follow"><meta name=description content="Print a progress (step) of the task."><meta http-equiv=content-security-policy content="default-src 'self' 'nonce-flicker-prevent'; style-src 'self' 'unsafe-inline';"><link rel=alternate type=application/rss+xml href=http://itnomater.github.io/rss.xml title=itnomater><link rel=stylesheet href=/css/bundle.css><script src=/js/bundle.min.js></script></head><body class=theme><div id=font-sizes class=hidden><span class=font-size-small></span>
<span class=font-size-medium></span>
<span class=font-size-large></span>
<span class=font-size-huge></span></div><script nonce=flicker-prevent>let theme=localStorage.getItem("functional.theme")||"light",font_size=localStorage.getItem("functional.fontSize")||"medium";document.body.classList.add("theme-"+(theme==="light"?"light":"dark"));let def_fonts=document.getElementById("font-sizes"),font_size_px=window.getComputedStyle(document.getElementsByClassName("font-size-"+font_size)[0],null).getPropertyValue("font-size");document.getElementsByTagName("html")[0].style.fontSize=font_size_px</script><a id=anchor-top name=top></a><header><div><aside id=configbox><div id=configbox-cover></div><button id=action-configbox-toggle>&#9881;</button><div id=configbox-content class=theme><button id=action-configbox-close class=theme>&#215;</button><hr><div id=agree-functional class=hidden><div><button id=action-set-font-small class="theme action-font-set-size font-size-small" data-value=small><span>A</span></button>
<button id=action-set-font-medium class="theme action-font-set-size font-size-medium" data-value=medium><span>A</span></button>
<button id=action-set-font-large class="theme action-font-set-size font-size-large" data-value=large><span>A</span></button>
<button id=action-set-font-huge class="theme action-font-set-size font-size-huge" data-value=huge><span>A</span></button>
<button id=action-theme-switcher><div class=theme-inverse>a</div></button></div><hr><div><button id=action-agree-toggle class="link collapse" data-id=#box-agreements>Your agreements</button><div id=box-agreements class=hidden><p>You agreed to store your settings on your computer.<br>You can revoke it if you want. Your settings will be lost.<br><button id=action-agree-revoke class=link title="Revoke agree">&#215; Revoke my agreed</button></p></div></div></div><div id=disagree-functional><p>If you want to keep your settings like font size and color theme,<br>you must agree to store these data on your computer.<br><button id=action-agree-aprove class=link title="Aprove agree">&#x2714;Yes, I agree</button></p></div></div></aside><div id=live-coding></div><h1>itnomater</h1><h2>Bash Helpers System</h2><nav id=menubar><ul><li><a href=/ title><span class=font-adjust>home</span></a></li><li><a href=/bhs title><span class=font-adjust>about</span></a></li><li><a href=/bhs/lib title><span class=font-adjust>libraries</span></a></li><li><a href=/bhs/bin title><span class=font-adjust>binaries</span></a></li><li><a href=https://github.com/itnomater/bhs title><span class=font-adjust>source code</span></a></li></ul></nav></div><nav id=breadcrumbs class=theme><button class=theme id=action-menu-open>&#9776;</button><ul><li><a href=/ title>Home</a></li><li><a href=/bhs/ title>BHS</a></li><li><a href=/bhs/lib/ title>Libraries</a></li><li><a href=/bhs/lib/echo3/ title>echo3</a></li><li>progress</li></ul></nav></header><main><aside id=side-menu><div id=side-menu-cover></div><div id=side-menu-content class=theme><button class=theme id=action-menu-close>&#215;</button><h5>Functions</h5><nav><ul><li><a href=http://itnomater.github.io/bhs/lib/echo3/text/>text</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/textln/>textln</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/line/>line</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/header/>header</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/success/>success</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/info/>info</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/warning/>warning</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/error/>error</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/fatal/>fatal</a></li><li class=active><a href=http://itnomater.github.io/bhs/lib/echo3/progress/>progress</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/result/>result</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/confirm/>confirm</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/input/>input</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/password/>password</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/cursor_move/>cursor_move</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/cursor_up/>cursor_up</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/cursor_down/>cursor_down</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/cursor_left/>cursor_left</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/cursor_right/>cursor_right</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/echof/>echof</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/verbose_mode/>verbose_mode</a></li><li><a href=http://itnomater.github.io/bhs/lib/echo3/ansi_state/>ansi_state</a></li></ul></nav></div></aside><article><h1 id=anchor-top-article>Function progress</h1><h4>Description</h4><p>Print a progress (step) of the task.</p><p>It starts printing at the beginning of the line. The cursor returns to the starting position.
When the task is finished you should move to the next line using one of the functions: <a href=/bhs/lib/echo3/result>result</a>, <a href=/bhs/lib/echo3/textln>textln</a> or just <code>echo</code> command.</p><hr><h4>Signature</h4><p class=function-name><b>progress</b> (</p><ol class=arguments><li><span>String</span> <span>-m</span> <span>Message content.</span></li><li><span>String</span> <span></span> <span>The output format:</span><ul><li><span>-t</span> <span>i:N</span> <span>Tag: [ i/N ] {msg}</span></li><li><span>-s</span> <span>i/N</span> <span>Step: > i /N: {msg}</span></li><li><span>-p</span> <span>i%N</span> <span>Percent: > i%: {msg}</span></li><li><span>-b</span> <span>i#N</span> <span>Progressbar: [### ] {msg}</span></li><li><span>-S</span> <span>/</span> <span>Spinner: [ / ] {msg}</span></li></ul></li><li><span>String</span> <span>-f</span> <span>Text color. See <a href=/bhs/lib/echo3/#colors>colors</a>.</span></li><li><span>Number</span> <span>-n</span> <span>Maximum of steps.</span></li><li><span>Number</span> <span>-i</span> <span>The current step.</span></li></ol><p class=function-end>)</p><hr><h4>Return value</h4><p><em>none</em></p><hr><h4>Examples</h4><div class=code2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>. <span class=si>${</span><span class=nv>SHELL_BOOTSTRAP</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lib echo3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>line
</span></span><span class=line><span class=cl>header <span class=s2>&#34;Tag mode:&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..4<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    progress -m <span class=s1>&#39;Data transferring&#39;</span> -t -n <span class=m>4</span> -i <span class=nv>$i</span>
</span></span><span class=line><span class=cl>    sleep 0.4
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>success <span class=s1>&#39;Data transfer completed.&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>line
</span></span><span class=line><span class=cl>header <span class=s2>&#34;Step mode:&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..4<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    progress -m <span class=s1>&#39;Data transferring&#39;</span> -s -n <span class=m>4</span> -i <span class=nv>$i</span>
</span></span><span class=line><span class=cl>    sleep 0.4
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>success <span class=s1>&#39;Data transfer completed.&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>line
</span></span><span class=line><span class=cl>header <span class=s2>&#34;Percent mode:&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..4<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    progress -m <span class=s1>&#39;Data transferring&#39;</span> -p -n <span class=m>4</span> -i <span class=nv>$i</span>
</span></span><span class=line><span class=cl>    sleep 0.4
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>success <span class=s1>&#39;Data transfer completed.&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>line
</span></span><span class=line><span class=cl>header <span class=s2>&#34;Bar mode:&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..4<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    progress -m <span class=s1>&#39;Data transferring&#39;</span> -b -n <span class=m>4</span> -i <span class=nv>$i</span>
</span></span><span class=line><span class=cl>    sleep 0.4
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>success <span class=s1>&#39;Data transfer completed.&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>line
</span></span><span class=line><span class=cl>header <span class=s2>&#34;Spinner mode:&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>1..20<span class=o>}</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    progress -m <span class=s1>&#39;Data transferring&#39;</span> -S -n <span class=m>4</span> -i <span class=nv>$i</span>
</span></span><span class=line><span class=cl>    sleep 0.1
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>success <span class=s1>&#39;Data transfer completed.&#39;</span></span></span></code></pre></div><div><pre><code>$ /path/to/foo.sh

----------------------------------------------------------
&gt; Tag mode:
[ 1/4 ] Data transfering
----------------------------------------------------------
&gt; Step mode:
&gt; 1/4: Data transfering
----------------------------------------------------------
&gt; Percent mode:
&gt; 25%: Data transfering
----------------------------------------------------------
&gt; Progressbar mode:
[#########                              ] Data transfering
----------------------------------------------------------
&gt; Spinner mode:
[ / ] Data transfering</code></pre></div></div><hr><p>You can see only static results in here. To see the full effect you need to run the above script by yourself.</p></article></main><footer id=navigation class=theme><nav><div><hr><a class=nav-parent href=/bhs/lib/echo3/ title="Library echo"><span class=hidden320>Library echo</span></a></div><div><a class=nav-prev href=http://itnomater.github.io/bhs/lib/echo3/fatal/ title="Function fatal"><span class=hidden320>Function fatal</span></a><hr><a class=nav-next href=http://itnomater.github.io/bhs/lib/echo3/result/ title="Function result"><span class=hidden320>Function result</span></a></div></nav><a id=nav-top class=theme href=#top title="On top">&#x21ea</a></footer></body></html>