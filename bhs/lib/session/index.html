<!doctype html><html><head><meta charset=utf-8><title>itnomater :: Library session - Session mechanism for bash scripts.</title><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1"><meta name=date content="2023-03-23 13:30"><meta name=generator content="https://gohugo.io"><meta name=robots content="index,follow"><link rel=alternate type=application/rss+xml href=http://itnomater.github.io/rss.xml title=itnomater><link rel=stylesheet href=/css/bundle.css><script src=/js/bundle.min.js></script></head><body class=theme><div id=font-sizes style=display:none><span class=font-size-small></span>
<span class=font-size-medium></span>
<span class=font-size-large></span>
<span class=font-size-huge></span></div><script>let theme=localStorage.getItem("functional.theme")||"light",font_size=localStorage.getItem("functional.fontSize")||"medium";document.body.classList.add("theme-"+(theme==="light"?"light":"dark"));let def_fonts=document.getElementById("font-sizes"),font_size_px=window.getComputedStyle(document.getElementsByClassName("font-size-"+font_size)[0],null).getPropertyValue("font-size");document.getElementsByTagName("html")[0].style.fontSize=font_size_px</script><a id=anchor-top name=top></a><header><div><aside id=configbox><div id=configbox-cover></div><button id=action-configbox-toggle>&#9881;</button><div id=configbox-content class=theme><button id=action-configbox-close class=theme>&#215;</button><hr><div id=agree-functional class=hidden><div><button id=action-set-font-small class="theme action-font-set-size font-size-small" data-value=small><span>A</span></button>
<button id=action-set-font-medium class="theme action-font-set-size font-size-medium" data-value=medium><span>A</span></button>
<button id=action-set-font-large class="theme action-font-set-size font-size-large" data-value=large><span>A</span></button>
<button id=action-set-font-huge class="theme action-font-set-size font-size-huge" data-value=huge><span>A</span></button>
<button id=action-theme-switcher><div class=theme-inverse>a</div></button></div><hr><div><a id=action-agree-toggle class=collapse data-id=#box-agreements href=javascript:void(0)>Your agreements</a><div id=box-agreements class=hidden><p style=font-size:12pt;text-align:center>You agreed to store your settings on your computer.<br>You can revoke it if you want. Your settings will be lost.<br><a id=action-agree-revoke title="Revoke agree" href=#>&#215; Revoke my agreed</a></p></div></div></div><div id=disagree-functional><p style=font-size:12pt;text-align:center>If you want to keep your settings like font size and color theme,<br>you must agree to store these data on your computer.<br><a id=action-agree-aprove title="Aprove agree" href=javascript:void(0)>&#x2714;Yes, I agree</a>.</p></div></div></aside><div id=live-coding></div><h1>itnomater</h1><h2>Bash Helpers System</h2><nav id=menubar><ul><li><a href=/ title><span class=font-adjust>home</span></a></li><li><a href=/bhs title><span class=font-adjust>about</span></a></li><li><a href=/bhs/lib title><span class=font-adjust>libraries</span></a></li><li><a href=https://github.com/itnomater/bhs title><span class=font-adjust>source code</span></a></li></ul></nav></div><nav id=breadcrumbs class=theme><button class=theme id=action-menu-open>&#9776;</button><ul><li><a href=/ title>Home</a></li><li><a href=/bhs/ title>BHS</a></li><li><a href=/bhs/lib/ title>Libraries</a></li><li>session</li></ul></nav></header><main><aside id=side-menu><div id=side-menu-cover></div><div id=side-menu-content class=theme><button class=theme id=action-menu-close>&#215;</button><h5>Functions</h5><nav><ul><li><a href=http://itnomater.github.io/bhs/lib/session/session_exists/>session_exists</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_set/>session_set</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_put/>session_put</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_push/>session_push</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_get/>session_get</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_list/>session_list</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_delete/>session_delete</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_rootdir/>session_rootdir</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_name/>session_name</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_hash/>session_hash</a></li><li><a href=http://itnomater.github.io/bhs/lib/session/session_clear/>session_clear</a></li></ul></nav></div></aside><article><h1 id=anchor-top-article>Library session</h1><p>Session mechanism for bash scripts.</p><p>Sessions allow you to share data between many instances of the same bash script.
They are similar to <a href=https://www.php.net/manual/en/book.session.php>sessions in PHP</a>.</p><p>Sessions are separated between system users and stored in:
<code>${_TMP}/$(whoami)/sessions</code></p><p class=warning>Variable <code>${_TMP}</code> is declared in <a href=/bhs/lib/core>core library</a>.</p><p>Each session has the name generated with the current username and the bash script name. If you have two bash script named that same, the session will be shared between them.
Session name format is:
<code>${USER}_$(basename $0)</code>.</p><p>Based on the session name is generated the session hash (using <code>sha1sum</code>). The hash is used as the directory name where session data are stored.
The full session directory path is:
<code>${_TMP}/$(whoami)/sessions/{session_hash}</code></p><h2 id=session-variables-management>Session variables management</h2><ul><li><a href=/bhs/lib/session/session_exists>session_exists</a> - Check if the session variable exist.</li><li><a href=/bhs/lib/session/session_set>session_set</a> - Set the session variable.</li><li><a href=/bhs/lib/session/session_put>session_put</a> - Set the session variable.</li><li><a href=/bhs/lib/session/session_push>session_push</a> - Add another data content to the existing session variable.</li><li><a href=/bhs/lib/session/session_get>session_get</a> - Print the session variable content.</li><li><a href=/bhs/lib/session/session_list>session_list</a> - Print the session variables list.</li><li><a href=/bhs/lib/session/session_delete>session_delete</a> - Delete the session variable.</li></ul><h2 id=session-management>Session management</h2><ul><li><a href=/bhs/lib/session/session_rootdir>session_rootdir</a> - Print the session root directory.</li><li><a href=/bhs/lib/session/session_name>session_name</a> - Print the session name.</li><li><a href=/bhs/lib/session/session_hash>session_hash</a> - Print the session hash.</li><li><a href=/bhs/lib/session/session_clear>session_clear</a> - Delete the entire session directory.</li></ul></article></main><footer id=navigation class=theme><nav><div><hr><a class=nav-parent href=/bhs/lib/ title=Libraries><span class=hidden320>Libraries</span></a></div><div><a class=nav-prev href=http://itnomater.github.io/bhs/lib/lang/ title="Lang library"><span class=hidden320>Lang library</span></a><hr><a class=nav-next href=/bhs/lib/session/session_exists/ title="Function session_exists"><span class=hidden320>Function session_exists</span></a></div></nav><a id=nav-top class=theme href=#top title="On top">&#x21ea</a></footer></body></html>